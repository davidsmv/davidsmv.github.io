<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-K4HP3RM');</script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>David Martínez</title>
    
    <!-- Link to your new styles -->
    <link rel="stylesheet" href="styles.css">
    <!-- Font Awesome for Icons (Optional but nice) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Marked Library for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K4HP3RM"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Navigation Header -->
    <header>
        <nav>
            <div class="logo"><a href="index.html" style="color: white; text-decoration: none;">David Martínez</a></div>
            <ul class="nav-links">
                <li><a href="#about" style="color: var(--accent-color);">About</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="books.html">Books</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <!-- About Section -->
        <section id="about">
            <h2>About Me</h2>
            <div class="about-content">
                <div class="about-text">
                    <div id="about-container">
                        <p>Loading profile...</p>
                    </div>
                </div>
                <!-- Placeholder image - Replace 'profile-placeholder.jpg' with your actual photo file name -->
                <div class="about-image">
                    <img src="images/profile.jpg" alt="David Martínez" class="profile-pic" onerror="this.src='https://via.placeholder.com/250?text=Profile+Photo'">
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects">
            <h2>Featured Projects</h2>
            <p style="text-align: center; margin-bottom: 20px;">
                Explore more of my work on <a href="https://github.com/davidsmv" target="_blank" style="color: var(--accent-color); font-weight: bold;">GitHub <i class="fab fa-github"></i></a>
            </p>
            <!-- Empty container for JavaScript to populate -->
            <div class="projects-grid" id="featured-projects">
                <!-- Content will be loaded from scripts.js -->
            </div>
            <div style="text-align: center; margin-top: 2rem;">
                <a href="projects.html" style="background-color: var(--accent-color); color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; font-weight: bold;">View All Projects</a>
            </div>
        </section>

        <!-- Blog Section -->
        <section id="blog">
            <h2>Latest From the Blog</h2>
            <p style="text-align: center; margin-bottom: 20px;">I write about Data Science, technology, business, politics, and more.</p>
            <!-- Empty container for JavaScript to populate -->
            <div class="card-list" id="featured-blog">
                <!-- Content will be loaded from scripts.js -->
            </div>
            <div style="text-align: center; margin-top: 2rem;">
                <a href="blog.html" style="background-color: var(--primary-color); color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; font-weight: bold;">Read More Articles</a>
            </div>
        </section>

        <!-- Books Section (Goodreads) -->
        <section id="books">
            <h2>Recent Read</h2>
            <!-- Empty container for JavaScript to populate -->
            <div class="card-list" id="featured-books">
                <!-- Content will be loaded from scripts.js -->
            </div>
            <div style="text-align: center; margin-top: 2rem;">
                <a href="books.html" style="background-color: var(--primary-color); color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; font-weight: bold;">See Full Reading List</a>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer id="main-footer">
        <!-- Footer content loaded from scripts.js -->
    </footer>

    <!-- Load Data and Render Scripts -->
    <script src="data/projects.js"></script>
    <script src="data/blogs.js"></script>
    <script src="data/books.js"></script>
    <script src="data/contact.js"></script>
    <script src="js/scripts.js"></script>
    <script>
        // Render sections with limits for the home page
        loadProfile('about-container');         // Load profile from markdown
        renderProjects('featured-projects', 2); // Show top 2 projects
        renderBlogs('featured-blog', 1);        // Show top 1 blog post
        renderBooks('featured-books', 1);       // Show top 1 book
        renderFooter('main-footer');            // Render footer
    </script>
</body>
</html>
